{"version":3,"file":"fetch.cjs.development.js","sources":["../src/fetch.ts"],"sourcesContent":["import { Operation } from 'effection';\nimport {\n  fetch as nativeFetch,\n  AbortController,\n  RequestInfo,\n  RequestInit,\n  Response\n} from './native-fetch';\n\nexport { AbortController, RequestInfo, RequestInit, Response };\n\nexport function* fetch(resource: RequestInfo, init: RequestInit = {}): Operation<Response> {\n  let controller = new AbortController();\n  init.signal = controller.signal;\n  try {\n    return yield nativeFetch(resource, init);\n  } finally {\n    controller.abort();\n  }\n}\n"],"names":["fetch","resource","init","controller","AbortController","signal","nativeFetch","abort"],"mappings":";;;;;;;;UAWiBA,MAAMC,UAAuBC,OAAoB;AAChE,MAAIC,UAAU,GAAG,IAAIC,+BAAJ,EAAjB;AACAF,EAAAA,IAAI,CAACG,MAAL,GAAcF,UAAU,CAACE,MAAzB;;AACA,MAAI;AACF,WAAO,MAAMC,oBAAW,CAACL,QAAD,EAAWC,IAAX,CAAxB;AACD,GAFD,SAEU;AACRC,IAAAA,UAAU,CAACI,KAAX;AACD;AACF;;;;;;;;;;;;;;;;"}