{"version":3,"file":"fetch.cjs.production.min.js","sources":["../src/fetch.ts"],"sourcesContent":["import { Operation } from 'effection';\nimport {\n  fetch as nativeFetch,\n  AbortController,\n  RequestInfo,\n  RequestInit,\n  Response\n} from './native-fetch';\n\nexport { AbortController, RequestInfo, RequestInit, Response };\n\nexport function* fetch(resource: RequestInfo, init: RequestInit = {}): Operation<Response> {\n  let controller = new AbortController();\n  init.signal = controller.signal;\n  try {\n    return yield nativeFetch(resource, init);\n  } finally {\n    controller.abort();\n  }\n}\n"],"names":["resource","init","controller","AbortController","signal","nativeFetch","abort"],"mappings":"8VAWuBA,EAAuBC,EAAoB,QAC5DC,EAAa,IAAIC,kBACrBF,EAAKG,OAASF,EAAWE,wBAEVC,EAAYL,EAAUC,WAEnCC,EAAWI"}